<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_85) on Thu Sep 15 05:13:58 EDT 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Throttler (Camel :: Core 2.17.0.redhat-630187 API)</title>
<meta name="date" content="2016-09-15">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Throttler (Camel :: Core 2.17.0.redhat-630187 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Throttler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/camel/processor/ThreadsProcessor.html" title="class in org.apache.camel.processor"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/camel/processor/ThrottlerRejectedExecutionException.html" title="class in org.apache.camel.processor"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/camel/processor/Throttler.html" target="_top">Frames</a></li>
<li><a href="Throttler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.apache.camel.processor.DelegateAsyncProcessor">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.camel.processor</div>
<h2 title="Class Throttler" class="title">Class Throttler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/apache/camel/support/ServiceSupport.html" title="class in org.apache.camel.support">org.apache.camel.support.ServiceSupport</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html" title="class in org.apache.camel.processor">org.apache.camel.processor.DelegateAsyncProcessor</a></li>
<li>
<ul class="inheritance">
<li>org.apache.camel.processor.Throttler</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/apache/camel/AsyncProcessor.html" title="interface in org.apache.camel">AsyncProcessor</a>, <a href="../../../../org/apache/camel/DelegateProcessor.html" title="interface in org.apache.camel">DelegateProcessor</a>, <a href="../../../../org/apache/camel/Navigate.html" title="interface in org.apache.camel">Navigate</a>&lt;<a href="../../../../org/apache/camel/Processor.html" title="interface in org.apache.camel">Processor</a>&gt;, <a href="../../../../org/apache/camel/Processor.html" title="interface in org.apache.camel">Processor</a>, <a href="../../../../org/apache/camel/Service.html" title="interface in org.apache.camel">Service</a>, <a href="../../../../org/apache/camel/ShutdownableService.html" title="interface in org.apache.camel">ShutdownableService</a>, <a href="../../../../org/apache/camel/spi/HasId.html" title="interface in org.apache.camel.spi">HasId</a>, <a href="../../../../org/apache/camel/spi/IdAware.html" title="interface in org.apache.camel.spi">IdAware</a>, <a href="../../../../org/apache/camel/StatefulService.html" title="interface in org.apache.camel">StatefulService</a>, <a href="../../../../org/apache/camel/SuspendableService.html" title="interface in org.apache.camel">SuspendableService</a>, <a href="../../../../org/apache/camel/Traceable.html" title="interface in org.apache.camel">Traceable</a></dd>
</dl>
<hr>
<br>
<pre>public class <a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.60">Throttler</a>
extends <a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html" title="class in org.apache.camel.processor">DelegateAsyncProcessor</a>
implements <a href="../../../../org/apache/camel/Traceable.html" title="interface in org.apache.camel">Traceable</a>, <a href="../../../../org/apache/camel/spi/IdAware.html" title="interface in org.apache.camel.spi">IdAware</a></pre>
<div class="block">A <a href="http://camel.apache.org/throttler.html">Throttler</a>
 will set a limit on the maximum number of message exchanges which can be sent
 to a processor within a specific time period. <p/> This pattern can be
 extremely useful if you have some external system which meters access; such
 as only allowing 100 requests per second; or if huge load can cause a
 particular system to malfunction or to reduce its throughput you might want
 to introduce some throttling.

 This throttle implementation is thread-safe and is therefore safe to be used
 by multiple concurrent threads in a single route.

 The throttling mechanism is a DelayQueue with maxRequestsPerPeriod permits on
 it. Each permit is set to be delayed by timePeriodMillis (except when the
 throttler is initialized or the throttle rate increased, then there is no delay
 for those permits). Callers trying to acquire a permit from the DelayQueue will
 block if necessary. The end result is a rolling window of time. Where from the
 callers point of view in the last timePeriodMillis no more than
 maxRequestsPerPeriod have been allowed to be acquired.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.camel.processor.DelegateAsyncProcessor">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.camel.processor.<a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html" title="class in org.apache.camel.processor">DelegateAsyncProcessor</a></h3>
<code><a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html#processor">processor</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.camel.support.ServiceSupport">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.camel.support.<a href="../../../../org/apache/camel/support/ServiceSupport.html" title="class in org.apache.camel.support">ServiceSupport</a></h3>
<code><a href="../../../../org/apache/camel/support/ServiceSupport.html#shutdown">shutdown</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#shuttingdown">shuttingdown</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#started">started</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#starting">starting</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#stopped">stopped</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#stopping">stopping</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#suspended">suspended</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#suspending">suspending</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#Throttler(org.apache.camel.CamelContext,%20org.apache.camel.Processor,%20org.apache.camel.Expression,%20long,%20java.util.concurrent.ExecutorService,%20boolean,%20boolean)">Throttler</a></strong>(<a href="../../../../org/apache/camel/CamelContext.html" title="interface in org.apache.camel">CamelContext</a>&nbsp;camelContext,
                  <a href="../../../../org/apache/camel/Processor.html" title="interface in org.apache.camel">Processor</a>&nbsp;processor,
                  <a href="../../../../org/apache/camel/Expression.html" title="interface in org.apache.camel">Expression</a>&nbsp;maxRequestsPerPeriodExpression,
                  long&nbsp;timePeriodMillis,
                  <a href="http://download.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</a>&nbsp;asyncExecutor,
                  boolean&nbsp;shutdownAsyncExecutor,
                  boolean&nbsp;rejectExecution)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#calculateAndSetMaxRequestsPerPeriod(org.apache.camel.Exchange)">calculateAndSetMaxRequestsPerPeriod</a></strong>(<a href="../../../../org/apache/camel/Exchange.html" title="interface in org.apache.camel">Exchange</a>&nbsp;exchange)</code>
<div class="block">Evaluates the maxRequestsPerPeriodExpression and adjusts the throttle rate up or down.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#doShutdown()">doShutdown</a></strong>()</code>
<div class="block">Implementations override this method to perform customized shutdown.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#doStart()">doStart</a></strong>()</code>
<div class="block">Implementations override this method to support customized start/stop.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#enqueuePermit(org.apache.camel.processor.Throttler.ThrottlePermit,%20org.apache.camel.Exchange)">enqueuePermit</a></strong>(org.apache.camel.processor.Throttler.ThrottlePermit&nbsp;permit,
                          <a href="../../../../org/apache/camel/Exchange.html" title="interface in org.apache.camel">Exchange</a>&nbsp;exchange)</code>
<div class="block">Returns a permit to the DelayQueue, first resetting it's delay to be relative to now.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#getCurrentMaximumRequestsPerPeriod()">getCurrentMaximumRequestsPerPeriod</a></strong>()</code>
<div class="block">Gets the current maximum request per period value.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#getId()">getId</a></strong>()</code>
<div class="block">Returns the id</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/camel/Expression.html" title="interface in org.apache.camel">Expression</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#getMaximumRequestsPerPeriodExpression()">getMaximumRequestsPerPeriodExpression</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#getTimePeriodMillis()">getTimePeriodMillis</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#getTraceLabel()">getTraceLabel</a></strong>()</code>
<div class="block">Gets the trace label used for logging when tracing is enabled.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#isAsyncDelayed()">isAsyncDelayed</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#isCallerRunsWhenRejected()">isCallerRunsWhenRejected</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#isRejectExecution()">isRejectExecution</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#process(org.apache.camel.Exchange,%20org.apache.camel.AsyncCallback)">process</a></strong>(<a href="../../../../org/apache/camel/Exchange.html" title="interface in org.apache.camel">Exchange</a>&nbsp;exchange,
              <a href="../../../../org/apache/camel/AsyncCallback.html" title="interface in org.apache.camel">AsyncCallback</a>&nbsp;callback)</code>
<div class="block">Processes the message exchange.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#processAsynchronously(org.apache.camel.Exchange,%20org.apache.camel.AsyncCallback)">processAsynchronously</a></strong>(<a href="../../../../org/apache/camel/Exchange.html" title="interface in org.apache.camel">Exchange</a>&nbsp;exchange,
                                          <a href="../../../../org/apache/camel/AsyncCallback.html" title="interface in org.apache.camel">AsyncCallback</a>&nbsp;callback)</code>
<div class="block">Delegate blocking on the DelayQueue to an asyncExecutor.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#setAsyncDelayed(boolean)">setAsyncDelayed</a></strong>(boolean&nbsp;asyncDelayed)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#setCallerRunsWhenRejected(boolean)">setCallerRunsWhenRejected</a></strong>(boolean&nbsp;callerRunsWhenRejected)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#setId(java.lang.String)">setId</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</code>
<div class="block">Sets the id</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#setMaximumRequestsPerPeriodExpression(org.apache.camel.Expression)">setMaximumRequestsPerPeriodExpression</a></strong>(<a href="../../../../org/apache/camel/Expression.html" title="interface in org.apache.camel">Expression</a>&nbsp;maxRequestsPerPeriodExpression)</code>
<div class="block">Sets the maximum number of requests per time period expression</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#setRejectExecution(boolean)">setRejectExecution</a></strong>(boolean&nbsp;rejectExecution)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#setTimePeriodMillis(long)">setTimePeriodMillis</a></strong>(long&nbsp;timePeriodMillis)</code>
<div class="block">Sets the time period during which the maximum number of requests apply</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/apache/camel/processor/Throttler.html#toString()">toString</a></strong>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.camel.processor.DelegateAsyncProcessor">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.camel.processor.<a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html" title="class in org.apache.camel.processor">DelegateAsyncProcessor</a></h3>
<code><a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html#doStop()">doStop</a>, <a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html#getProcessor()">getProcessor</a>, <a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html#hasNext()">hasNext</a>, <a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html#next()">next</a>, <a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html#process(org.apache.camel.Exchange)">process</a>, <a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html#processNext(org.apache.camel.Exchange,%20org.apache.camel.AsyncCallback)">processNext</a>, <a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html#setProcessor(org.apache.camel.AsyncProcessor)">setProcessor</a>, <a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html#setProcessor(org.apache.camel.Processor)">setProcessor</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.camel.support.ServiceSupport">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.camel.support.<a href="../../../../org/apache/camel/support/ServiceSupport.html" title="class in org.apache.camel.support">ServiceSupport</a></h3>
<code><a href="../../../../org/apache/camel/support/ServiceSupport.html#doResume()">doResume</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#doSuspend()">doSuspend</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#getStatus()">getStatus</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#getVersion()">getVersion</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#isRunAllowed()">isRunAllowed</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#isStarted()">isStarted</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#isStarting()">isStarting</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#isStopped()">isStopped</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#isStopping()">isStopping</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#isStoppingOrStopped()">isStoppingOrStopped</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#isSuspended()">isSuspended</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#isSuspending()">isSuspending</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#isSuspendingOrSuspended()">isSuspendingOrSuspended</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#resume()">resume</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#shutdown()">shutdown</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#start()">start</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#stop()">stop</a>, <a href="../../../../org/apache/camel/support/ServiceSupport.html#suspend()">suspend</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Throttler(org.apache.camel.CamelContext, org.apache.camel.Processor, org.apache.camel.Expression, long, java.util.concurrent.ExecutorService, boolean, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Throttler</h4>
<pre>public&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.81">Throttler</a>(<a href="../../../../org/apache/camel/CamelContext.html" title="interface in org.apache.camel">CamelContext</a>&nbsp;camelContext,
         <a href="../../../../org/apache/camel/Processor.html" title="interface in org.apache.camel">Processor</a>&nbsp;processor,
         <a href="../../../../org/apache/camel/Expression.html" title="interface in org.apache.camel">Expression</a>&nbsp;maxRequestsPerPeriodExpression,
         long&nbsp;timePeriodMillis,
         <a href="http://download.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html?is-external=true" title="class or interface in java.util.concurrent">ExecutorService</a>&nbsp;asyncExecutor,
         boolean&nbsp;shutdownAsyncExecutor,
         boolean&nbsp;rejectExecution)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="process(org.apache.camel.Exchange, org.apache.camel.AsyncCallback)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>process</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.99">process</a>(<a href="../../../../org/apache/camel/Exchange.html" title="interface in org.apache.camel">Exchange</a>&nbsp;exchange,
              <a href="../../../../org/apache/camel/AsyncCallback.html" title="interface in org.apache.camel">AsyncCallback</a>&nbsp;callback)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/apache/camel/AsyncProcessor.html#process(org.apache.camel.Exchange,%20org.apache.camel.AsyncCallback)">AsyncProcessor</a></code></strong></div>
<div class="block">Processes the message exchange.
 Similar to <a href="../../../../org/apache/camel/Processor.html#process(org.apache.camel.Exchange)"><code>Processor.process(org.apache.camel.Exchange)</code></a>, but the caller supports having the exchange asynchronously processed.
 <p/>
 If there was a failure processing then the caused <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang"><code>Exception</code></a> would be set on the <a href="../../../../org/apache/camel/Exchange.html" title="interface in org.apache.camel"><code>Exchange</code></a>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/camel/AsyncProcessor.html#process(org.apache.camel.Exchange,%20org.apache.camel.AsyncCallback)">process</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/camel/AsyncProcessor.html" title="interface in org.apache.camel">AsyncProcessor</a></code></dd>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html#process(org.apache.camel.Exchange,%20org.apache.camel.AsyncCallback)">process</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html" title="class in org.apache.camel.processor">DelegateAsyncProcessor</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>exchange</code> - the message exchange</dd><dd><code>callback</code> - the <a href="../../../../org/apache/camel/AsyncCallback.html" title="interface in org.apache.camel"><code>AsyncCallback</code></a> will be invoked when the processing of the exchange is completed.
                 If the exchange is completed synchronously, then the callback is also invoked synchronously.
                 The callback should therefore be careful of starting recursive loop.</dd>
<dt><span class="strong">Returns:</span></dt><dd>(doneSync) <tt>true</tt> to continue execute synchronously, <tt>false</tt> to continue being executed asynchronously</dd></dl>
</li>
</ul>
<a name="processAsynchronously(org.apache.camel.Exchange, org.apache.camel.AsyncCallback)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processAsynchronously</h4>
<pre>protected&nbsp;boolean&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.200">processAsynchronously</a>(<a href="../../../../org/apache/camel/Exchange.html" title="interface in org.apache.camel">Exchange</a>&nbsp;exchange,
                            <a href="../../../../org/apache/camel/AsyncCallback.html" title="interface in org.apache.camel">AsyncCallback</a>&nbsp;callback)</pre>
<div class="block">Delegate blocking on the DelayQueue to an asyncExecutor. Except if the executor rejects the submission
 and isCallerRunsWhenRejected() is enabled, then this method will delegate back to process(), but not
 before changing the exchange state to stop any recursion.</div>
</li>
</ul>
<a name="enqueuePermit(org.apache.camel.processor.Throttler.ThrottlePermit, org.apache.camel.Exchange)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enqueuePermit</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.226">enqueuePermit</a>(org.apache.camel.processor.Throttler.ThrottlePermit&nbsp;permit,
                 <a href="../../../../org/apache/camel/Exchange.html" title="interface in org.apache.camel">Exchange</a>&nbsp;exchange)</pre>
<div class="block">Returns a permit to the DelayQueue, first resetting it's delay to be relative to now.</div>
</li>
</ul>
<a name="calculateAndSetMaxRequestsPerPeriod(org.apache.camel.Exchange)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateAndSetMaxRequestsPerPeriod</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.238">calculateAndSetMaxRequestsPerPeriod</a>(<a href="../../../../org/apache/camel/Exchange.html" title="interface in org.apache.camel">Exchange</a>&nbsp;exchange)
                                            throws <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Evaluates the maxRequestsPerPeriodExpression and adjusts the throttle rate up or down.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
<a name="doStart()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doStart</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.283">doStart</a>()
                throws <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/apache/camel/support/ServiceSupport.html#doStart()">ServiceSupport</a></code></strong></div>
<div class="block">Implementations override this method to support customized start/stop.
 <p/>
 <b>Important: </b> See <a href="../../../../org/apache/camel/support/ServiceSupport.html#doStop()"><code>ServiceSupport.doStop()</code></a> for more details.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html#doStart()">doStart</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html" title="class in org.apache.camel.processor">DelegateAsyncProcessor</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/apache/camel/support/ServiceSupport.html#doStop()"><code>ServiceSupport.doStop()</code></a></dd></dl>
</li>
</ul>
<a name="doShutdown()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doShutdown</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.291">doShutdown</a>()
                   throws <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../org/apache/camel/support/ServiceSupport.html#doShutdown()">ServiceSupport</a></code></strong></div>
<div class="block">Implementations override this method to perform customized shutdown.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html#doShutdown()">doShutdown</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html" title="class in org.apache.camel.processor">DelegateAsyncProcessor</a></code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
<a name="isRejectExecution()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRejectExecution</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.323">isRejectExecution</a>()</pre>
</li>
</ul>
<a name="setRejectExecution(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRejectExecution</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.327">setRejectExecution</a>(boolean&nbsp;rejectExecution)</pre>
</li>
</ul>
<a name="isAsyncDelayed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAsyncDelayed</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.331">isAsyncDelayed</a>()</pre>
</li>
</ul>
<a name="setAsyncDelayed(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAsyncDelayed</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.335">setAsyncDelayed</a>(boolean&nbsp;asyncDelayed)</pre>
</li>
</ul>
<a name="isCallerRunsWhenRejected()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCallerRunsWhenRejected</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.339">isCallerRunsWhenRejected</a>()</pre>
</li>
</ul>
<a name="setCallerRunsWhenRejected(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCallerRunsWhenRejected</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.343">setCallerRunsWhenRejected</a>(boolean&nbsp;callerRunsWhenRejected)</pre>
</li>
</ul>
<a name="getId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getId</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.347">getId</a>()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/apache/camel/spi/HasId.html#getId()">HasId</a></code></strong></div>
<div class="block">Returns the id</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/camel/spi/HasId.html#getId()">getId</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/camel/spi/HasId.html" title="interface in org.apache.camel.spi">HasId</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the id</dd></dl>
</li>
</ul>
<a name="setId(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setId</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.351">setId</a>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/apache/camel/spi/IdAware.html#setId(java.lang.String)">IdAware</a></code></strong></div>
<div class="block">Sets the id</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/camel/spi/IdAware.html#setId(java.lang.String)">setId</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/camel/spi/IdAware.html" title="interface in org.apache.camel.spi">IdAware</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - the id</dd></dl>
</li>
</ul>
<a name="setMaximumRequestsPerPeriodExpression(org.apache.camel.Expression)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaximumRequestsPerPeriodExpression</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.358">setMaximumRequestsPerPeriodExpression</a>(<a href="../../../../org/apache/camel/Expression.html" title="interface in org.apache.camel">Expression</a>&nbsp;maxRequestsPerPeriodExpression)</pre>
<div class="block">Sets the maximum number of requests per time period expression</div>
</li>
</ul>
<a name="getMaximumRequestsPerPeriodExpression()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaximumRequestsPerPeriodExpression</h4>
<pre>public&nbsp;<a href="../../../../org/apache/camel/Expression.html" title="interface in org.apache.camel">Expression</a>&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.362">getMaximumRequestsPerPeriodExpression</a>()</pre>
</li>
</ul>
<a name="getCurrentMaximumRequestsPerPeriod()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentMaximumRequestsPerPeriod</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.369">getCurrentMaximumRequestsPerPeriod</a>()</pre>
<div class="block">Gets the current maximum request per period value.</div>
</li>
</ul>
<a name="setTimePeriodMillis(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTimePeriodMillis</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.376">setTimePeriodMillis</a>(long&nbsp;timePeriodMillis)</pre>
<div class="block">Sets the time period during which the maximum number of requests apply</div>
</li>
</ul>
<a name="getTimePeriodMillis()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimePeriodMillis</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.380">getTimePeriodMillis</a>()</pre>
</li>
</ul>
<a name="getTraceLabel()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTraceLabel</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.384">getTraceLabel</a>()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../org/apache/camel/Traceable.html#getTraceLabel()">Traceable</a></code></strong></div>
<div class="block">Gets the trace label used for logging when tracing is enabled.
 <p/>
 The label should be short and precise.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/apache/camel/Traceable.html#getTraceLabel()">getTraceLabel</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/camel/Traceable.html" title="interface in org.apache.camel">Traceable</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the label</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://download.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../src-html/org/apache/camel/processor/Throttler.html#line.389">toString</a>()</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html#toString()">toString</a></code>&nbsp;in class&nbsp;<code><a href="../../../../org/apache/camel/processor/DelegateAsyncProcessor.html" title="class in org.apache.camel.processor">DelegateAsyncProcessor</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Throttler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/camel/processor/ThreadsProcessor.html" title="class in org.apache.camel.processor"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/apache/camel/processor/ThrottlerRejectedExecutionException.html" title="class in org.apache.camel.processor"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/camel/processor/Throttler.html" target="_top">Frames</a></li>
<li><a href="Throttler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.apache.camel.processor.DelegateAsyncProcessor">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Apache Camel</small></p>
</body>
</html>
